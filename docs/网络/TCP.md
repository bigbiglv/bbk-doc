# `TCP`
- 主要用于在计算机网络中确保数据的可靠传输
- 是一个端到端的协议，通常运行在IP协议之上，形成我们常说的TCP/IP协议族

## 特点
1. 面向连接: 通信双方必须先建立连接才进行数据传输
2. 可靠性: 具有重传 确认应答等机制
   - 发送方发送数据后接收方接收成功后会应答
   - 在规定时间内接收方没有应答的话发送方会重新发送数据（重复大概3-5次）
3. 有序传输: 保证数据包按顺序发送到达接收方，数据切分成多个带序号小段接收的时候根据序号判断顺序
4. 拥塞控制: 监控网络的拥塞情况，根据网络的负载情况调整发送数据的速率，避免网络过载
   - 慢启动: 刚开始建立连接的时候会以较小的速率传输，数据包成功确认后会持续加大
   - 在速率大到一定程度时会减少增长防止网络堵塞
5. 流量控制: 根据接收方的处理能力调节数据传输速率，避免接收方的缓存溢出

## 建立连接（三次握手）
建立连接需要经历三次握手才能成功
1. `SYN`: 客户端发送一个 `SYN`（同步）包，告诉服务器它希望建立连接。此时，客户端进入 `SYN_SENT` 状态
2. `SYN-ACK`: 服务器收到客户端的 `SYN` 包后，确认客户端的请求，同时发送一个 `SYN-ACK` 包回客户端，表示同意建立连接。服务器进入 `SYN_RCVD` 状态
3. `ACK`: 客户端收到服务器的 `SYN-ACK` 包后，再发送一个 `ACK`（确认）包，确认收到服务器的响应。此时，客户端和服务器都进入 `ESTABLISHED`（已建立连接）状态，连接建立成功

## 连接关闭（四次挥手）
关闭连接需要经历四次挥手才能成功
1. `FIN`: 客户端向服务器发送一个 `FIN`（结束）包，表示它没有数据要发送了，但仍然可以接收数据
2. `FIN-ACK`: 服务器收到 `FIN` 包后，发送一个 `ACK` 包确认接收到客户端的 `FIN` 包，客户端进入 `FIN_WAIT_2` 状态
3. `FIN`: 服务器也准备好关闭连接时，向客户端发送一个 `FIN` 包，表示服务器没有数据要发送
4. `FIN-ACK`: 客户端收到服务器的 `FIN`包后，发送 `ACK` 包确认，连接关闭完成

## 数据包头部格式
1. 源端口和目标端口
2. 序列号
3. 确认号: 用于确认接收方已经接收到的数据的序列号
4. 标识位: `SYN`、`ACK`、`FIN` 等标志
5. 窗口大小: 流量控制
6. 校验和: 错误检测

## 与 `UDP` 的区别
